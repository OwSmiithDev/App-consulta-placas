# üöó Painel de Consulta de Placas

![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)
![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)
![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E)
![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white)
![Flask](https://img.shields.io/badge/flask-%23000.svg?style=for-the-badge&logo=flask&logoColor=white)
![Render](https://img.shields.io/badge/Render-%46E3B7.svg?style=for-the-badge&logo=render&logoColor=white)
![Status](https://img.shields.io/badge/status-em%20desenvolvimento-yellow)


Bem-vindo ao projeto Consulta de Placas! Esta √© uma aplica√ß√£o web simples e eficiente para verificar informa√ß√µes de ve√≠culos a partir do n√∫mero da placa, utilizando um banco de dados hospedado no Supabase.

O projeto foi estruturado para ser seguro e escal√°vel, separando o frontend (interface do usu√°rio) do backend (l√≥gica do servidor), garantindo que suas chaves de acesso ao banco de dados nunca sejam expostas publicamente.


## ‚ú® Funcionalidades

-   **Consulta Manual:** Insira o n√∫mero de uma placa para buscar as informa√ß√µes correspondentes no banco de dados.
-   **Feedback em Tempo Real:** A interface exibe status de carregamento, sucesso e erro durante a consulta.
-   **Design Responsivo:** Acess√≠vel e funcional em dispositivos m√≥veis e desktops.
-   **Arquitetura Segura:** O frontend se comunica com um backend intermedi√°rio, que por sua vez acessa o banco de dados, protegendo suas credenciais.

---

## üõ†Ô∏è Tecnologias Utilizadas

-   **Frontend:**
    -   HTML5
    -   Tailwind CSS
    -   JavaScript
-   **Backend:**
    -   Python 3
    -   Flask
    -   Gunicorn (para produ√ß√£o)
-   **Banco de Dados:**
    -   Supabase (PostgreSQL)

---
## üìù Teste de Uso
Site >> https://owsmiithdev.github.io/App-consulta-placas/

Placas de exemplo para Uso: BRA2E19

![Alt text](https://i.imgur.com/b7OuabM.png "a title")
---
## üõ†Ô∏è Guia de Configura√ß√£o do Backend e Banco de Dados

Siga os passos abaixo para configurar toda a infraestrutura necess√°ria no Supabase, desde a cria√ß√£o do projeto at√© a obten√ß√£o das credenciais para a API.

### Parte 1: Criando o Projeto no Supabase

Cada "Projeto" no Supabase √© uma infraestrutura completa com seu pr√≥prio banco de dados PostgreSQL.

1.  **Acesse o Supabase**: V√° para [supabase.com](https://supabase.com) e fa√ßa login (recomenda-se usar sua conta do GitHub).
2.  **Crie um Novo Projeto**: No painel principal, clique em **`(+) New project`**.
3.  **Configure os Detalhes**:
    - **Name**: Escolha um nome para o projeto (ex: `leitor-de-placas-api`).
    - **Database Password**: Crie uma senha forte e **salve-a em um local seguro**.
    - **Region**: Para melhor desempenho no Brasil, escolha **`South America (S√£o Paulo)`**.
    - **Plan**: O plano `Free` (Gr√°tis) √© suficiente para come√ßar.
4.  **Aguarde a Cria√ß√£o**: Clique em **`Create new project`** e aguarde cerca de 2 minutos para que a infraestrutura seja provisionada.

---

### Parte 2: Como Obter as Chaves de API (Keys)

Com o projeto criado, voc√™ precisa das credenciais para conectar sua aplica√ß√£o.

1.  **Acesse as Configura√ß√µes**: No painel do seu projeto, clique no √≠cone de engrenagem (`‚öôÔ∏è Project Settings`) no menu lateral.
2.  **Navegue at√© a Se√ß√£o API**: Clique na op√ß√£o `API`.
3.  **Copie as Credenciais**: Nesta p√°gina, voc√™ encontrar√° duas informa√ß√µes essenciais:

    -   **Project URL**: Na se√ß√£o `Configuration`, copie a **URL**. Este ser√° o valor da sua `SUPABASE_URL`.

    -   **Project API Keys**: Na se√ß√£o `Project API Keys`, voc√™ precisar√° da chave `service_role`.

        > **‚ö†Ô∏è Importante:** A chave `service_role` √© secreta e de uso exclusivo do **backend**. Ela possui privil√©gios de administrador e **nunca** deve ser exposta no c√≥digo do frontend.

    Clique em "Reveal" para ver e copiar o valor da chave `service_role`. Este ser√° o valor da sua `SUPABASE_KEY`.

---

### Parte 3: Criando a Tabela de Placas

Agora, vamos criar a tabela que armazenar√° os dados dos ve√≠culos.

1.  **Acesse o SQL Editor**: No menu lateral do seu projeto, clique no √≠cone de banco de dados (`Database`) e depois em `SQL Editor`.
2.  **Execute o Script**: Clique em `(+) New query` e cole o seguinte comando SQL. Depois, clique em `RUN` para execut√°-lo.

    ```sql
    CREATE TABLE plates (
      id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
      created_at TIMESTAMPTZ DEFAULT NOW(),
      plate_number TEXT UNIQUE NOT NULL,
      owner TEXT,
      financial_status TEXT,
      contact TEXT
    );
    ```

---

### Parte 4: Conectando o Backend

Para finalizar, utilize as credenciais obtidas na **Parte 2** para configurar seu backend.

1.  **Crie o arquivo `.env`**: Na raiz do seu projeto **backend**, crie um arquivo chamado `.env`.
2.  **Adicione as Vari√°veis**: Cole o template abaixo no arquivo e substitua os placeholders pelas suas credenciais.

    ```env
    # Vari√°veis de ambiente para conex√£o com o Supabase
    # Substitua os valores pelos dados do seu projeto

    SUPABASE_URL="COLE_A_URL_DO_SEU_PROJETO_AQUI"
    SUPABASE_KEY="COLE_A_SUA_CHAVE_SERVICE_ROLE_AQUI"
    ```

Com isso, seu backend estar√° pronto para se conectar ao Supabase e sua aplica√ß√£o estar√° completamente configurada!
---
## üöÄ Guia de Implanta√ß√£o Segura

Este guia ir√° mostrar-lhe como colocar a sua aplica√ß√£o online de forma segura e profissional, hospedando o frontend no GitHub Pages e o backend em Python no Render.

### Parte 1: Preparar o Backend para a Internet

O seu servidor precisa de um pequeno ajuste para funcionar em produ√ß√£o.

#### 1. Adicionar um Servidor de Produ√ß√£o

O servidor que o Flask usa por defeito √© √≥timo para testes, mas n√£o para um site real. Vamos adicionar o `gunicorn`, um servidor de produ√ß√£o robusto.

Abra o seu ficheiro `requirements.txt` e adicione `gunicorn` no final. Ele deve ficar assim:

```txt
Flask
python-dotenv
supabase
pytesseract
opencv-python-headless
Pillow
numpy
```

*(Nota: Adapte a lista acima √†s depend√™ncias exatas do seu projeto)*

#### 2. Configurar Vari√°veis de Ambiente (`.env`)

Para rodar o backend localmente e de forma segura, crie um arquivo chamado `.env` dentro da sua pasta `server/`. Este arquivo **nunca** deve ser enviado para o GitHub (adicione-o ao seu `.gitignore`).

Dentro do `.env`, coloque suas chaves do Supabase:

```env
SUPABASE_URL=https://SUA_URL_DO_SUPABASE.supabase.co
SUPABASE_KEY=SUA_CHAVE_ANON_PUBLIC_DO_SUPABASE
```

O seu c√≥digo Python (`server.py`) deve usar uma biblioteca como `python-dotenv` para carregar estas vari√°veis.

#### 3. Enviar o seu Projeto para o GitHub

Certifique-se de que todo o seu projeto (a pasta `server` e o ficheiro `index.html`) est√° num reposit√≥rio no seu GitHub.

### Parte 2: Hospedar o Backend no Render (Seguro e Gratuito)

O Render ir√° correr o seu `server.py` e guardar as suas chaves do Supabase de forma segura.

1.  **Crie uma Conta:** V√° a [render.com](https://render.com) e crie uma conta gratuita, ligando-a √† sua conta do GitHub.

2.  **Crie um Novo "Web Service":**
    -   No painel do Render, clique em **"New +"** e depois em **"Web Service"**.
    -   Escolha o seu reposit√≥rio do GitHub onde est√° o projeto.

3.  **Configure o Servi√ßo:**
    -   **Name:** D√™ um nome ao seu servi√ßo (ex: `leitor-de-placas-api`).
    -   **Root Directory:** Coloque `server` (para dizer ao Render para olhar para dentro da sua pasta de servidor).
    -   **Runtime:** Escolha `Python 3`.
    -   **Build Command:** `pip install -r requirements.txt`
    -   **Start Command:** `gunicorn server:app` (assumindo que seu arquivo se chama `server.py` e a inst√¢ncia do Flask se chama `app`).
    -   **Instance Type:** Escolha o plano `Free`.

4.  **Adicione as Suas Chaves Secretas (O Passo Mais Importante):**
    -   Antes de criar o servi√ßo, v√° at√© √† sec√ß√£o **"Environment"**.
    -   Clique em **"Add Environment Variable"**.
    -   Adicione duas vari√°veis:
        -   **Key:** `SUPABASE_URL`, **Value:** `https://link.supabase.co` (sua URL)
        -   **Key:** `SUPABASE_KEY`, **Value:** (a sua chave anon public completa)
    -   Adicione tamb√©m uma vari√°vel para o Python:
        -   **Key:** `PYTHON_VERSION`, **Value:** `3.10.6` (ou uma vers√£o recente que voc√™ usou)

5.  **Crie o Servi√ßo:**
    -   Clique em **"Create Web Service"**. O Render ir√° instalar as depend√™ncias e iniciar o seu servidor.
    -   Ap√≥s alguns minutos, o seu backend estar√° online! O Render ir√° dar-lhe um URL p√∫blico, algo como `https://leitorplacas.onrender.com`. **Copie este URL.**

### Parte 3: Hospedar o Frontend no GitHub Pages

1.  **Atualize o `index.html`:**
    -   Abra o seu ficheiro `index.html` localmente.
    -   Encontre a linha onde voc√™ define o URL da API. Se antes voc√™ se conectava diretamente ao Supabase, agora voc√™ ir√° se conectar ao seu novo backend.
    -   Adicione ou modifique a constante da API para usar o URL que o Render lhe deu. O seu JavaScript deve fazer chamadas para este endere√ßo:

    ```javascript
    const API_URL = '[https://leitorplacas-api.onrender.com](https://leitorplacas-api.onrender.com)';

    // Exemplo de como fazer a chamada
    async function queryPlate(plate) {
        const response = await fetch(`${API_URL}/search/${plate}`);
        const data = await response.json();
        // ...l√≥gica para exibir os dados
    }
    ```

    -   Salve e envie esta altera√ß√£o para o seu reposit√≥rio no GitHub.
